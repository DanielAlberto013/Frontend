<div class="dashboard-container">

  <!-- Topbar -->
  <nav class="topbar">
    <div class="logo">
      <i class="fas fa-chart-line"></i>
      Sistema de Finanzas - Intescam
    </div>

    <div class="user-menu" *ngIf="currentUser">
      <span class="user-name">👋 {{ currentUser.nombre }}</span>
      <div class="dropdown">
        <button class="dropdown-toggle">⚙️ Opciones</button>
        <div class="dropdown-menu">
          <p><strong>Rol:</strong> {{ currentUser.role }}</p>
          <p><strong>Email:</strong> {{ currentUser.email }}</p>
          <hr>
          <button (click)="logout()" class="dropdown-btn logout">🚪 Cerrar Sesión</button>
          <button routerLink="/auth/change-password" class="dropdown-btn change-password">🔒 Cambiar Contraseña</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Bienvenida -->
  <div class="welcome-banner">
    <h2>👋 ¡Bienvenido, {{ currentUser?.nombre }}!</h2>
    <p>Selecciona una sección para comenzar a gestionar el sistema</p>
  </div>

  <!-- Tarjetas principales -->
  <div class="cards-container">
    <div class="card-item card-gradient-blue" routerLink="/proyectos">
      <div class="card-icon animated-icon">📁</div>
      <h3>Proyectos</h3>
      <p>Gestiona tus proyectos de investigación</p>
    </div>

    <div class="card-item card-gradient-purple" routerLink="/catalogo">
      <div class="card-icon animated-icon">📋</div>
      <h3>Catálogo</h3>
      <p>Consulta el catálogo de artículos</p>
    </div>

    <div class="card-item card-gradient-green" routerLink="/cotizaciones">
      <div class="card-icon animated-icon">🛒</div>
      <h3>Cotizaciones</h3>
      <p>Crea y gestiona tus cotizaciones</p>
    </div>

    <div class="card-item card-gradient-orange" routerLink="/reportes">
      <div class="card-icon animated-icon">📊</div>
      <h3 *ngIf="authService.isAdmin() || authService.isRevisor()">Reportes</h3>
      <h3 *ngIf="authService.isDocente()">Crear Ticket</h3>
      <p *ngIf="authService.isAdmin() || authService.isRevisor()">Genera reportes y estadísticas</p>
      <p *ngIf="authService.isDocente()">Genera tickets de tus cotizaciones aprobadas</p>
    </div>
  </div>

</div>
